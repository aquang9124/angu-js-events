!function(e){e.module("myApp",["ngRoute","ngSanitize"]).config(["$routeProvider",function(e){e.when("/",{templateUrl:"partials/home.html",controller:"homeCtrl",controllerAs:"vm"}).when("/maps",{templateUrl:"partials/maps.html",controller:"mapsCtrl",controllerAs:"vm"}).otherwise({redirectTo:"/"})}])}(angular),function(e){function t(){}e.module("myApp").controller("accountsCtrl",t)}(angular),function(e){function t(e,t,n,o){function a(){0===s.cIndex?s.cIndex=1:s.cIndex=0}function r(){n.path("/maps")}function c(){s.instructions=s.instructions+s.words[s.wordCount][s.charCount++],s.charCount>s.words[s.wordCount].length&&(s.wordCount++,s.charCount=0,s.instructions="",s.wordCount==s.words.length&&(s.wordCount=0))}function l(){s.autocomplete=new google.maps.places.Autocomplete(document.getElementById("autocomplete"),{types:["geocode"]}),s.autocomplete.addListener("place_changed",s.getAddress)}function i(){s.place=s.autocomplete.getPlace(),s.place.geometry?(s.newSearch.lat=s.place.geometry.location.lat(),s.newSearch.lng=s.place.geometry.location.lng(),console.log(s.newSearch.lat),console.log(s.newSearch.lng)):console.log("No geometry data found")}var s=this;s.header=[{message:"Crime Map"},{message:"With Google Maps"}],s.words=["Hello!    ","Fill out the form below to get crime information!    "],s.wordCount=0,s.charCount=0,s.instructions="",s.cIndex=0,s.crimeData=[],s.place,s.autocomplete,s.newSearch={radius:3},s.switchHeaders=a,s.startSearch=r,s.typeText=c,s.initAutocomplete=l,s.getAddress=i,e.$watch("vm.newSearch",function(){o.newSearch=s.newSearch}),t(s.typeText,130)}t.$inject=["$scope","$interval","$location","Search"],e.module("myApp").controller("homeCtrl",t)}(angular),function(e){function t(e,t){function n(){var e=t.find(a.newSearch);e.then(function(e){console.log(e),a.crimeData=e,a.initMap()})}function o(){var e={center:new google.maps.LatLng(34.22,100),zoom:14,draggable:!0,mapTypeId:google.maps.MapTypeId.ROADMAP},t=new google.maps.Map(document.getElementById("map_canvas"),e),n=[];for(var o in a.crimeData){var r=new google.maps.LatLng(a.crimeData[o]["long"],a.crimeData[o].lat);n.push(new google.maps.Marker({position:r,map:t,title:"Crime Location"})),n[n.length-1].infowin=new google.maps.InfoWindow({content:"<div>This is a marker in "+r+"</div>"}),google.maps.event.addListener(n[n.length-1],"click",function(){this.infowin.open(t,this)})}}var a=this;a.crimeData=[],a.newSearch=t.newSearch,a.findCrimes=n,a.initMap=o,a.findCrimes()}t.$inject=["$scope","Search"],e.module("myApp").controller("mapsCtrl",t)}(angular),function(e){function t(){function e(e,t,n){var o={enableHighAccuracy:!0},a={center:new google.maps.LatLng(34.22,100),zoom:14,draggable:!0,mapTypeId:google.maps.MapTypeId.ROADMAP},r=new google.maps.Map(t[0],a);navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){var t={lat:e.coords.latitude,lng:e.coords.longitude};r.setCenter(t);new google.maps.Marker({position:t,map:r,title:"Hello World!"})},function(e){alert("Unable to get location: "+e.message)},o)}var t={link:e,replace:!0,templateUrl:"/js/templates/angu_maps.html",restrict:"EA"};return t}e.module("myApp").directive("myMaps",t)}(angular),function(e){function t(e){function t(t){return t===e.url()}var n=this;n.isActive=t}t.$inject=["$location"],e.module("myApp").controller("routesCtrl",t)}(angular),function(e){function t(e){function t(t){return e.post("/crimes",{end:t.end,lat:t.lat,lng:t.lng,start:t.start}).then(function(e){return n=e.data,e.data},function(e){console.log(e)})}var n=[],o={},a={newSearch:o,crimeData:n,find:t};return a}t.$inject=["$http"],e.module("myApp").factory("Search",t)}(angular);