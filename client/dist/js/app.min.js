!function(e){e.module("myApp",["ngRoute","ngSanitize"]).config(["$routeProvider",function(e){e.when("/",{templateUrl:"partials/home.html",controller:"homeCtrl",controllerAs:"vm"}).when("/maps",{templateUrl:"partials/maps.html",controller:"mapsCtrl",controllerAs:"vm"}).otherwise({redirectTo:"/"})}])}(angular),function(e){function o(){}e.module("myApp").controller("accountsCtrl",o)}(angular),function(e){function o(e,o,t,n){function a(){0===s.cIndex?s.cIndex=1:s.cIndex=0}function r(){t.path("/maps")}function l(){s.instructions=s.instructions+s.words[s.wordCount][s.charCount++],s.charCount>s.words[s.wordCount].length&&(s.wordCount++,s.charCount=0,s.instructions="",s.wordCount==s.words.length&&(s.wordCount=0))}function c(){s.autocomplete=new google.maps.places.Autocomplete(document.getElementById("autocomplete"),{types:["geocode"]}),s.autocomplete.addListener("place_changed",s.getAddress)}function i(){s.place=s.autocomplete.getPlace(),s.place.geometry?(s.newSearch.lat=s.place.geometry.location.lat(),s.newSearch.lng=s.place.geometry.location.lng(),console.log(s.newSearch.lat),console.log(s.newSearch.lng)):console.log("No geometry data found")}var s=this;s.header=[{message:"Crime Map"},{message:"With Google Maps"}],s.words=["Hello!    ","Fill out the form below to get crime information!    "],s.wordCount=0,s.charCount=0,s.instructions="",s.cIndex=0,s.crimeData=[],s.place,s.autocomplete,s.newSearch={radius:3},s.switchHeaders=a,s.startSearch=r,s.typeText=l,s.initAutocomplete=c,s.getAddress=i,e.$watch("vm.newSearch",function(){n.newSearch=s.newSearch}),o(s.typeText,130)}o.$inject=["$scope","$interval","$location","Search"],e.module("myApp").controller("homeCtrl",o)}(angular),function(e){function o(e,o){function t(){var e=o.find(a.newSearch);e.then(function(e){a.crimeData=e,console.log(e)})}function n(){var e={center:new google.maps.LatLng(34.22,100),zoom:14,draggable:!0,mapTypeId:google.maps.MapTypeId.ROADMAP},o=new google.maps.Map(document.getElementById("map_canvas"),e),t=[];for(var n in a.crimeData){var r=new google.maps.LatLng(a.crimeData[n]["long"],a.crimeData[n].lat);t.push(new google.maps.Marker({position:r,map:o,title:r})),t[t.length-1].infowin=new google.maps.InfoWindow({content:"<div>This is a marker in "+r+"</div>"}),google.maps.event.addListener(t[marker.length-1],"click",function(){this.infowin.open(o,this)})}}var a=this;a.crimeData=[],a.newSearch=o.newSearch,a.findCrimes=t,a.initMap=n,a.findCrimes()}o.$inject=["$scope","Search"],e.module("myApp").controller("mapsCtrl",o)}(angular),function(e){function o(){function e(e,o,t){var n={enableHighAccuracy:!0},a={center:new google.maps.LatLng(34.22,100),zoom:14,draggable:!0,mapTypeId:google.maps.MapTypeId.ROADMAP},r=new google.maps.Map(o[0],a);navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){var o={lat:e.coords.latitude,lng:e.coords.longitude};r.setCenter(o);new google.maps.Marker({position:o,map:r,title:"Hello World!"})},function(e){alert("Unable to get location: "+e.message)},n)}var o={link:e,replace:!0,templateUrl:"/js/templates/angu_maps.html",restrict:"EA"};return o}e.module("myApp").directive("myMaps",o)}(angular),function(e){function o(e){function o(o){return o===e.url()}var t=this;t.isActive=o}o.$inject=["$location"],e.module("myApp").controller("routesCtrl",o)}(angular),function(e){function o(e){function o(o){console.log(o),e.post("/crimes",{end:o.end,lat:o.lat,lng:o.lng,start:o.start}).then(function(e){return console.log(e.data),t=e.data,e.data},function(e){console.log(e)})}var t=[],n={},a={newSearch:n,crimeData:t,find:o};return a}o.$inject=["$http"],e.module("myApp").factory("Search",o)}(angular);